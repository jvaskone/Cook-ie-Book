<form
  [formGroup]="recipeForm"
  (ngSubmit)="saveRecipe()"
  autocomplete="on"
>
  <div class="card">
    <div class="form-group row mb-2">
      <div class="col-6">
        <div class="form-group">
          <label for="recipeName">Étel neve:</label>
          <br />
          <input
            formControlName="recipeName"
            id="name"
            type="text"
            class="form-control"
            [ngClass]="{ 'is-invalid': recipeForm.get('recipeName')?.touched && !recipeForm.get('recipeName')?.valid }"
          />
        </div>

        <div class="form-group">
          <label for="recipeCategory">Kategória:</label>
          <br />
          <select
            formControlName="recipeCategory"
            class="form-control"            
            id="categoryId"
            [ngClass]="{ 'is-invalid': recipeForm.get('recipeCategory')?.touched && !recipeForm.get('recipeCategory')?.valid }"
          >
            <option
              *ngFor="let category of getCategories()"
              [value]="category.id"
            >
              {{ category.name }}
            </option>
          </select>
        </div>

        <div class="form-group">          
          <label for="recipeIngredients">Hozzávalók:</label>
          <br />
          <textarea
            formControlName="recipeIngredients"            
            id="recipeIngredients"
            type="text"
            class="form-control"
            rows="10"
            cols="35"
            [ngClass]="{ 'is-invalid': recipeForm.get('recipeIngredients')?.touched && !recipeForm.get('recipeIngredients')?.valid }"
          ></textarea>
        </div>
      </div>

      <div class="col-6">

        <div class="form-group">
          <label for="imageUrl">Kép:</label><br />
          <input
            type="file"
            accept="image/*"            
            (change)="addFile($event)"            
            id="imageUrl"     
            formControlName="recipeImageUrl"                                   
          />
          
          <br />
          <img
            [src]="imageData"
            height="150"            
            id="recipeImage"            
          /> 
        </div>
      </div>        

      
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="form-group" >
          <label for="recipeInstructions">Elkészítés:</label>
          <br />
          <textarea
            formControlName="recipeInstructions"            
            id="recipeInstructions"
            type="text"
            class="form-control"
            rows="16"
            cols="80"
            [ngClass]="{ 'is-invalid': recipeForm.get('recipeInstructions')?.touched && !recipeForm.get('recipeInstructions')?.valid }"

          ></textarea>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-2">
        <button
          type="submit"
          [disabled]="recipeForm.invalid"
          class="btn btn-primary"
        >
          Mentés
        </button>
      </div>
      <div class="col-md-2">
        <button type="button" class="btn btn-default" (click)="cancel()">
          Mégsem
        </button>
      </div>
    </div>
  </div>
</form>
